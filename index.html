<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SM Session Booking</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-purple-100 min-h-screen flex justify-center p-6">

<div class="w-full max-w-2xl bg-white rounded-2xl shadow-2xl p-8">

<!-- Language -->
<div class="flex justify-end mb-4">
<button id="lang-toggle" class="underline text-sm">English</button>
</div>

<h1 class="text-3xl font-bold text-center text-purple-900 mb-6">
Glico's Room
</h1>

<form id="booking-form"
action="https://formspree.io/f/xkorrgna"
method="POST"
class="space-y-5">

<!-- Name -->
<label class="block text-sm font-medium text-purple-900"
data-ja="お名前 *" data-en="Name *">お名前 *</label>
<input type="text" name="name" required
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400">

<!-- Email -->
<label class="block text-sm font-medium text-purple-900"
data-ja="メールアドレス *" data-en="Email *">メールアドレス *</label>
<input type="email" name="email" required
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400">

<!-- Area -->
<label class="block text-sm font-medium text-purple-900"
data-ja="エリア *" data-en="Area *">エリア *</label>
<select id="area" name="area" required
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400">
<option value="">選択してください</option>
<option value="アルファイン">アルファイン</option>
<option value="渋谷">渋谷</option>
<option value="新宿">新宿</option>
<option value="その他（出張）">その他（出張）</option>
</select>

<!-- Dates -->
<label class="block text-sm font-medium text-purple-900">第一希望日 *</label>
<div class="grid grid-cols-2 gap-3">
<input type="date" name="第一希望日" required class="border-2 rounded-lg px-3 py-2 border-purple-400">
<input type="time" name="第一希望時間" required class="border-2 rounded-lg px-3 py-2 border-purple-400">
</div>

<label class="block text-sm font-medium text-purple-900">第二希望日</label>
<div class="grid grid-cols-2 gap-3">
<input type="date" name="第二希望日" class="border-2 rounded-lg px-3 py-2 border-purple-400">
<input type="time" name="第二希望時間" class="border-2 rounded-lg px-3 py-2 border-purple-400">
</div>

<!-- Menu -->
<label class="block text-sm font-medium text-purple-900">メニュー *</label>
<select id="menu" name="menu" required
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400">
<option value="">選択してください</option>
<option value="BDSM">BDSM セッション</option>
<option value="百巻夜行">百巻夜行 mummy session（180分）36000円</option>
<option value="喫茶去">喫茶去 counseling（90分）20000円</option>
</select>

<!-- BDSM Duration -->
<div id="duration-box" class="hidden">
<label class="block text-sm font-medium text-purple-900">利用時間 *</label>
<select name="duration"
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400">
<option value="">選択してください</option>
<option value="90分 30000円">90分 30000円</option>
<option value="120分 39000円">120分 39000円</option>
<option value="180分 46000円">180分 46000円</option>
</select>
</div>

<!-- BDSM Notice -->
<div id="deposit-note"
class="hidden border-2 rounded-lg p-4 bg-purple-50 border-purple-300 font-semibold">
<p data-ja="※ BDSMセッションでは、内容によりデポジットをお願いする場合があります。"
data-en="For BDSM sessions, a deposit may be requested depending on the content.">
※ BDSMセッションでは、内容によりデポジットをお願いする場合があります。
</p>
</div>

<!-- Message -->
<label class="block text-sm font-medium text-purple-900"
data-ja="ご要望・メッセージ" data-en="Message">ご要望・メッセージ</label>
<textarea name="message" rows="4"
class="w-full px-4 py-3 border-2 rounded-lg border-purple-400"
placeholder="初回／リピートなど"></textarea>

<!-- Notice -->
<div class="border-2 rounded-lg p-4 border-purple-300 bg-purple-50">
<p class="font-semibold text-purple-900"
data-ja="【ご利用上の注意】"
data-en="[Important Information]">【ご利用上の注意】</p>
<ul class="list-disc list-inside text-sm mt-2 space-y-1">
<li data-ja="18歳以下のご利用はできません。"
data-en="Guests under 18 are not permitted."></li>
<li data-ja="衛生上問題がある行為や本番行為は行いません。"
data-en="Certain acts are not provided for hygiene reasons."></li>
<li data-ja="内容によりデポジットを頂戴する場合があります。"
data-en="A deposit may be required depending on the session."></li>
</ul>

<label class="flex items-center gap-2 mt-3 text-sm">
<input type="checkbox" id="agree" required>
<span data-ja="上記内容に同意します"
data-en="I agree to the above information">
上記内容に同意します
</span>
</label>
</div>

<input type="hidden" name="agree_status" id="agree_status">
<input type="hidden" name="agree_time" id="agree_time">

<button type="submit"
class="w-full py-4 bg-purple-700 text-white rounded-lg font-semibold">
予約を送信
</button>

</form>

<div id="success" class="hidden mt-6 text-center p-6 bg-green-100 rounded-lg">
<p class="font-bold text-xl">仮予約を受け付けました</p>
<p class="text-sm mt-1">24時間以内にご連絡いたします。</p>
</div>

</div>

<script>
/* language */
let lang='ja';
document.getElementById('lang-toggle').onclick=()=>{
lang=lang==='ja'?'en':'ja';
document.querySelectorAll('[data-ja]').forEach(e=>{
e.textContent=e.dataset[lang];
});
document.getElementById('lang-toggle').textContent=lang==='ja'?'English':'日本語';
};

/* area alert */
document.getElementById('area').onchange=e=>{
if(e.target.value && e.target.value!=='アルファイン'){
alert('アルファイン以外は出張費が発生します。');
}
};

/* menu */
document.getElementById('menu').onchange=e=>{
const bdsm=e.target.value==='BDSM';
document.getElementById('duration-box').classList.toggle('hidden',!bdsm);
document.getElementById('deposit-note').classList.toggle('hidden',!bdsm);
};

/* agreement */
document.getElementById('agree').onchange=e=>{
if(e.target.checked){
document.getElementById('agree_status').value='同意あり';
document.getElementById('agree_time').value=new Date().toISOString();
}
};
</script>

</body>
</html>
